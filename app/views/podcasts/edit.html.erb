<div class="container">
  <h2>Редактировать Podcast: <%= @podcast.title %></h2>

  <%= form_for(@podcast, url: { controller: 'podcasts', action: 'update' }, method: :patch) do |form| %>
    <%= form.hidden_field :user_id, value: current_user.id %>

    <div class="form-group">
      <%= form.label :title, "Название Podcast" %>
      <%= form.text_field :title, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :description, "Описание Podcast" %>
      <%= form.text_area :description, class: "form-control" %>
    </div>

    <div data-controller="upload">
      <%= form.label :photo, "Обложка" %>
      <%= form.file_field :photo, direct_upload: true,
                                  data: { upload_target: "input",
                                          action:        "change->upload#uploadFile" }
      %>
      <div data-upload-target="progress" style="width: 100%; background-color: #f3f3f3; border: 1px solid #ccc; height: 20px; position: relative;">
        <div id="progress-bar" style="width: 0%; height: 100%; background-color: #4caf50; position: absolute; transition: width 0.2s;"></div>
      </div>
    </div>

    <div data-controller="upload">
      <%= form.label :audio, "Аудиофайл" %>
      <%= form.file_field :audio, direct_upload: true,
                                  data: { upload_target: "input",
                                          action:        "change->upload#uploadFile" }
      %>
      <div data-upload-target="progress" style="width: 100%; background-color: #f3f3f3; border: 1px solid #ccc; height: 20px; position: relative;">
        <div id="progress-bar" style="width: 0%; height: 100%; background-color: #4caf50; position: absolute; transition: width 0.2s;"></div>
      </div>
    </div>

    <%= form.submit "Сохранить изменения", class: "btn btn-primary" %>
  <% end %>

  <%= link_to "Назад", podcast_path(@podcast), class: "btn btn-secondary" %>
</div>
